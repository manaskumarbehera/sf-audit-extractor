{"numFailedTestSuites":1,"numFailedTests":40,"numPassedTestSuites":0,"numPassedTests":6,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":1,"numTotalTests":46,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1761321584270,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["SOQL suggestion policy @1.3.0 – detailed behavior tests"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SOQL suggestion policy @1.3.0 – detailed behavior tests {\n  label: \"[starter_suggestions] Empty editor ➜ suggest 'Start a SELECT'\",\n  query: '   ',\n  ctx: [Object],\n  expect: [Object]\n}","invocations":1,"location":{"column":21,"line":473},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"{\n  label: \"[starter_suggestions] Empty editor ➜ suggest 'Start a SELECT'\",\n  query: '   ',\n  ctx: [Object],\n  expect: [Object]\n}"},{"ancestorTitles":["SOQL suggestion policy @1.3.0 – detailed behavior tests"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SOQL suggestion policy @1.3.0 – detailed behavior tests {\n  label: '[fields-macro-helpers] Typing SELECT ➜ offer FIELDS(...) macros',\n  query: 'SELECT ',\n  ctx: [Object],\n  expect: [Object]\n}","invocations":1,"location":{"column":21,"line":473},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"{\n  label: '[fields-macro-helpers] Typing SELECT ➜ offer FIELDS(...) macros',\n  query: 'SELECT ',\n  ctx: [Object],\n  expect: [Object]\n}"},{"ancestorTitles":["SOQL suggestion policy @1.3.0 – detailed behavior tests"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: [suggest-from-after-select] SELECT list present, no FROM ➜ suggest FROM ➜ Missing expected suggestions: suggest-from-after-select\nActual: [\"limit-suggestion\"]\n    at includesAll (/Users/manas/IdeaProjects/sf-audit-extractor/soql_suggestions_config.spec.js:82:15)\n    at includesAll (/Users/manas/IdeaProjects/sf-audit-extractor/soql_suggestions_config.spec.js:478:13)"],"fullName":"SOQL suggestion policy @1.3.0 – detailed behavior tests {\n  label: '[suggest-from-after-select] SELECT list present, no FROM ➜ suggest FROM',\n  query: 'SELECT FIELDS(ALL) ',\n  ctx: [Object],\n  expect: [Object]\n}","invocations":1,"location":{"column":21,"line":473},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"{\n  label: '[suggest-from-after-select] SELECT list present, no FROM ➜ suggest FROM',\n  query: 'SELECT FIELDS(ALL) ',\n  ctx: [Object],\n  expect: [Object]\n}"},{"ancestorTitles":["SOQL suggestion policy @1.3.0 – detailed behavior tests"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: [limit-suggestion] FIELDS(ALL) present at top-level and no LIMIT ➜ suggest LIMIT 200 ➜ Missing expected suggestions: limit-suggestion\nActual: [\"sequencer-next-clause\",\"suggest-where-after-from\"]\n    at includesAll (/Users/manas/IdeaProjects/sf-audit-extractor/soql_suggestions_config.spec.js:82:15)\n    at includesAll (/Users/manas/IdeaProjects/sf-audit-extractor/soql_suggestions_config.spec.js:478:13)"],"fullName":"SOQL suggestion policy @1.3.0 – detailed behavior tests {\n  label: '[limit-suggestion] FIELDS(ALL) present at top-level and no LIMIT ➜ suggest LIMIT 200',\n  query: 'SELECT FIELDS(ALL) FROM Account ',\n  ctx: [Object],\n  expect: [Object]\n}","invocations":1,"location":{"column":21,"line":473},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"{\n  label: '[limit-suggestion] FIELDS(ALL) present at top-level and no LIMIT ➜ suggest LIMIT 200',\n  query: 'SELECT FIELDS(ALL) FROM Account ',\n  ctx: [Object],\n  expect: [Object]\n}"},{"ancestorTitles":["SOQL suggestion policy @1.3.0 – detailed behavior tests"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SOQL suggestion policy @1.3.0 – detailed behavior tests {\n  label: '[suppress-offset-without-limit] Prevent OFFSET hint before LIMIT',\n  query: \"SELECT Id FROM Account WHERE Name LIKE 'Acme%' \",\n  ctx: [Object],\n  expect: [Object]\n}","invocations":1,"location":{"column":21,"line":473},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"{\n  label: '[suppress-offset-without-limit] Prevent OFFSET hint before LIMIT',\n  query: \"SELECT Id FROM Account WHERE Name LIKE 'Acme%' \",\n  ctx: [Object],\n  expect: [Object]\n}"},{"ancestorTitles":["SOQL suggestion policy @1.3.0 – detailed behavior tests"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: [having-after-groupby] GROUP BY present ➜ suggest HAVING ➜ Missing expected suggestions: having-after-groupby\nActual: [\"sequencer-next-clause\"]\n    at includesAll (/Users/manas/IdeaProjects/sf-audit-extractor/soql_suggestions_config.spec.js:82:15)\n    at includesAll (/Users/manas/IdeaProjects/sf-audit-extractor/soql_suggestions_config.spec.js:478:13)"],"fullName":"SOQL suggestion policy @1.3.0 – detailed behavior tests {\n  label: '[having-after-groupby] GROUP BY present ➜ suggest HAVING',\n  query: 'SELECT Name, COUNT(Id) FROM Account GROUP BY Name ',\n  ctx: [Object],\n  expect: [Object]\n}","invocations":1,"location":{"column":21,"line":473},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"{\n  label: '[having-after-groupby] GROUP BY present ➜ suggest HAVING',\n  query: 'SELECT Name, COUNT(Id) FROM Account GROUP BY Name ',\n  ctx: [Object],\n  expect: [Object]\n}"},{"ancestorTitles":["SOQL suggestion policy @1.3.0 – detailed behavior tests"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: [suppress-having-without-groupby] No GROUP BY ➜ suppress HAVING ➜ Missing expected suggestions: suppress-having-without-groupby\nActual: []\n    at includesAll (/Users/manas/IdeaProjects/sf-audit-extractor/soql_suggestions_config.spec.js:82:15)\n    at includesAll (/Users/manas/IdeaProjects/sf-audit-extractor/soql_suggestions_config.spec.js:478:13)"],"fullName":"SOQL suggestion policy @1.3.0 – detailed behavior tests {\n  label: '[suppress-having-without-groupby] No GROUP BY ➜ suppress HAVING',\n  query: 'SELECT Name FROM Account ',\n  ctx: [Object],\n  expect: [Object]\n}","invocations":1,"location":{"column":21,"line":473},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"{\n  label: '[suppress-having-without-groupby] No GROUP BY ➜ suppress HAVING',\n  query: 'SELECT Name FROM Account ',\n  ctx: [Object],\n  expect: [Object]\n}"},{"ancestorTitles":["SOQL suggestion policy @1.3.0 – detailed behavior tests"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: [order-by-placement] ORDER BY should be before LIMIT, after filters ➜ Missing expected suggestions: order-by-placement\nActual: []\n    at includesAll (/Users/manas/IdeaProjects/sf-audit-extractor/soql_suggestions_config.spec.js:82:15)\n    at includesAll (/Users/manas/IdeaProjects/sf-audit-extractor/soql_suggestions_config.spec.js:478:13)"],"fullName":"SOQL suggestion policy @1.3.0 – detailed behavior tests {\n  label: '[order-by-placement] ORDER BY should be before LIMIT, after filters',\n  query: 'SELECT Id FROM Account WHERE IsActive__c = TRUE ',\n  ctx: [Object],\n  expect: [Object]\n}","invocations":1,"location":{"column":21,"line":473},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"{\n  label: '[order-by-placement] ORDER BY should be before LIMIT, after filters',\n  query: 'SELECT Id FROM Account WHERE IsActive__c = TRUE ',\n  ctx: [Object],\n  expect: [Object]\n}"},{"ancestorTitles":["SOQL suggestion policy @1.3.0 – detailed behavior tests"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: [order-by-after-where] After WHERE ➜ suggest ORDER BY then LIMIT ➜ Missing expected suggestions: order-by-after-where\nActual: []\n    at includesAll (/Users/manas/IdeaProjects/sf-audit-extractor/soql_suggestions_config.spec.js:82:15)\n    at includesAll (/Users/manas/IdeaProjects/sf-audit-extractor/soql_suggestions_config.spec.js:478:13)"],"fullName":"SOQL suggestion policy @1.3.0 – detailed behavior tests {\n  label: '[order-by-after-where] After WHERE ➜ suggest ORDER BY then LIMIT',\n  query: \"SELECT Id FROM Account WHERE Name LIKE 'A%' \",\n  ctx: [Object],\n  expect: [Object]\n}","invocations":1,"location":{"column":21,"line":473},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"{\n  label: '[order-by-after-where] After WHERE ➜ suggest ORDER BY then LIMIT',\n  query: \"SELECT Id FROM Account WHERE Name LIKE 'A%' \",\n  ctx: [Object],\n  expect: [Object]\n}"},{"ancestorTitles":["SOQL suggestion policy @1.3.0 – detailed behavior tests"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SOQL suggestion policy @1.3.0 – detailed behavior tests {\n  label: '[order-by-field-suggestions + order-by-followups] Inside ORDER BY list',\n  query: 'SELECT Id, Name FROM Account ORDER BY ',\n  ctx: [Object],\n  expect: [Object]\n}","invocations":1,"location":{"column":21,"line":473},"numPassingAsserts":0,"retryReasons":[],"status":"passed","title":"{\n  label: '[order-by-field-suggestions + order-by-followups] Inside ORDER BY list',\n  query: 'SELECT Id, Name FROM Account ORDER BY ',\n  ctx: [Object],\n  expect: [Object]\n}"},{"ancestorTitles":["SOQL suggestion policy @1.3.0 – detailed behavior tests"],"duration":0,"failureDetails":[{}],"failureMessages":["Error: [nulls-ordering] Suggest NULLS FIRST/LAST after ASC/DESC ➜ Missing expected suggestions: nulls-ordering\nActual: []\n    at includesAll (/Users/manas/IdeaProjects/sf-audit-extractor/soql_suggestions_config.spec.js:82:15)\n    at includesAll (/Users/manas/IdeaProjects/sf-audit-extractor/soql_suggestions_config.spec.js:478:13)"],"fullName":"SOQL suggestion policy @1.3.0 – detailed behavior tests {\n  label: '[nulls-ordering] Suggest NULLS FIRST/LAST after ASC/DESC',\n  query: 'SELECT Id FROM Account ORDER BY Name DESC ',\n  ctx: [Object],\n  expect: [Object]\n}","invocations":1,"location":{"column":21,"line":473},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"{\n  label: '[nulls-ordering] Suggest NULLS FIRST/LAST after ASC/DESC',\n  query: 'SELECT Id FROM Account ORDER BY Name DESC ',\n  ctx: [Object],\n  expect: [Object]\n}"},{"ancestorTitles":["SOQL suggestion policy @1.3.0 – detailed behavior tests"],"duration":1,"failureDetails":[{}],"failureMessages":["Error: [with-security-position] Place WITH SECURITY_ENFORCED before ORDER/LIMIT ➜ Missing expected suggestions: with-security-position\nActual: []\n    at includesAll (/Users/manas/IdeaProjects/sf-audit-extractor/soql_suggestions_config.spec.js:82:15)\n    at includesAll (/Users/manas/IdeaProjects/sf-audit-extractor/soql_suggestions_config.spec.js:478:13)"],"fullName":"SOQL suggestion policy @1.3.0 – detailed behavior tests {\n  label: '[with-security-position] Place WITH SECURITY_ENFORCED before ORDER/LIMIT',\n  query: \"SELECT Id FROM Account WHERE Name LIKE 'Acme%' \",\n  ctx: [Object],\n  expect: [Object]\n}","invocations":1,"location":{"column":21,"line":473},"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"{\n  label: '[with-security-position] Place WITH SECURITY_ENFORCED before ORDER/LIMIT',\n  query: \"SELECT Id FROM Account WHERE Name LIKE 'Acme%' \",\n  ctx: [Object],\n  expect: [Object]\n}"}, ... ],"endTime":1761321584782,"message":"  ● SOQL suggestion policy @1.3.0 – detailed behavior tests › {\n  label: '[suggest-from-after-select] SELECT list present, no FROM ➜ suggest FROM',\n  query: 'SELECT FIELDS(ALL) ',\n  ctx: [Object],\n  expect: [Object]\n}\n\n    [suggest-from-after-select] SELECT list present, no FROM ➜ suggest FROM ➜ Missing expected suggestions: suggest-from-after-select\n    Actual: [\"limit-suggestion\"]\n\n    \u001b[0m \u001b[90m 80 |\u001b[39m     \u001b[36mconst\u001b[39m missing \u001b[33m=\u001b[39m expectedIds\u001b[33m.\u001b[39mfilter((x) \u001b[33m=>\u001b[39m \u001b[33m!\u001b[39mactualIds\u001b[33m.\u001b[39mincludes(x))\u001b[33m;\u001b[39m\n     \u001b[90m 81 |\u001b[39m     \u001b[36mif\u001b[39m (missing\u001b[33m.length) {\n    \u001b[31m\u001b[1m>\u001b[22m\u001b[39m\u001b[90m 82 |\u001b[39m         \u001b[36mthrow\u001b[39m \u001b[36mnew\u001b[39m \u001b[33mError\u001b[39m(\n     \u001b[90m    |\u001b[39m               \u001b[31m\u001b[1m^\u001b[22m\u001b[39m\n     \u001b[90m 83 |\u001b[39m             \u001b[32m`${label} ➜ Missing expected suggestions: ${missing.join(\", ")}\\nActual: ${JSON.stringify(actualIds)}`\u001b[39m\n     \u001b[90m 84 |\u001b[39m         )\u001b[33m;\u001b[39m\n     \u001b[90m 85 |\u001b[39m     }\n\u001b[0m\n      at includesAll (soql_suggestions_config.spec.js:82:15)\n      at includesAll (soql_suggestions_config.spec.js:478:13)"}]}

